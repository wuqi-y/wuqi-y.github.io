title: 微信支付遇到的坑
author: Yang · Mr
tags:
  - 微信支付
categories:
  - web前端
  - ''
date: 2023-01-07 15:37:00
---
### 关于微信前端支付在微信环境如何支付



  我们都知道在微信环境中是无法直接使用H5支付的，需要调取微信浏览器一些相关API去唤醒支付,相关链接如下：`https://pay.weixin.qq.com/wiki/doc/api/jsapi.php?chapter=7_7&index=6`;
  
  
  那后端支付的时候是需要用户的**appid**的那这时候我们在客户端应该如何获取呢？其实微信官方文档有很详细的解说：
  ``https://developers.weixin.qq.com/doc/offiaccount/OA_Web_Apps/Wechat_webpage_authorization.html``
  
     
   然后我们可以通过H5静默授权获得到唯一的**code**码然后传给后端，后端去拿这个**code**码去换取用户的**appid**（因为前端优有跨域），然后就可以调取我前面说的API去唤醒支付了